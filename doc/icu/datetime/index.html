<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Formatting date and time."><meta name="keywords" content="rust, rustlang, rust-lang, datetime"><title>icu::datetime - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceSerif4-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../FiraSans-Regular.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../FiraSans-Medium.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceCodePro-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceSerif4-Bold.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceCodePro-Semibold.ttf.woff2"><link rel="stylesheet" type="text/css" href="../../normalize.css"><link rel="stylesheet" type="text/css" href="../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../../ayu.css" disabled><link rel="stylesheet" type="text/css" href="../../dark.css" disabled><link rel="stylesheet" type="text/css" href="../../light.css" id="themeStyle"><script id="default-settings" ></script><script src="../../storage.js"></script><script src="../../crates.js"></script><script defer src="../../main.js"></script>
    <noscript><link rel="stylesheet" href="../../noscript.css"></noscript><link rel="alternate icon" type="image/png" href="../../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../../favicon-32x32.png"><link rel="icon" type="image/svg+xml" href="../../favicon.svg"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="sidebar-logo" href="../../icu/index.html"><div class="logo-container"><img class="rust-logo" src="../../rust-logo.svg" alt="logo"></div>
        </a><h2 class="location"></h2>
    </nav>
    <nav class="sidebar"><a class="sidebar-logo" href="../../icu/index.html"><div class="logo-container"><img class="rust-logo" src="../../rust-logo.svg" alt="logo"></div>
        </a><h2 class="location"><a href="#">Crate datetime</a></h2><div class="sidebar-elems"><div class="block"><ul><li class="version">Version 1.0.0</li><li><a id="all-types" href="all.html">All Items</a></li></div></ul><section><div class="block"><ul><li><a href="#modules">Modules</a></li><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#traits">Traits</a></li></ul></div></section><div id="sidebar-vars" data-name="datetime" data-ty="mod" data-relpath="./"></div><script defer src="./sidebar-items.js"></script></div></nav><main><div class="width-limiter"><div class="sub-container"><a class="sub-logo-container" href="../../icu/index.html"><img class="rust-logo" src="../../rust-logo.svg" alt="logo"></a><nav class="sub"><div class="theme-picker hidden"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu" title="themes"><img width="22" height="22" alt="Pick another theme!" src="../../brush.svg"></button><div id="theme-choices" role="menu"></div></div><form class="search-form"><div class="search-container"><span></span><input class="search-input" name="search" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><button type="button" id="help-button" title="help">?</button><a id="settings-menu" href="../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../wheel.svg"></a></div></form></nav></div><section id="main-content" class="content"><div class="main-heading">
    <h1 class="fqn"><span class="in-band">Crate <a href="../index.html">icu</a>::<wbr><a class="mod" href="#">datetime</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../../clipboard.svg" width="19" height="18" alt="Copy item path"></button></span></h1><span class="out-of-band"><a class="srclink" href="../../src/icu_datetime/lib.rs.html#5-170">source</a> · <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Formatting date and time.</p>
<p>This module is published as its own crate (<a href="https://docs.rs/icu_datetime/latest/icu_datetime/"><code>icu_datetime</code></a>)
and as part of the <a href="https://docs.rs/icu/latest/icu/"><code>icu</code></a> crate. See the latter for more details on the ICU4X project.</p>
<p><a href="struct.TypedDateTimeFormatter.html" title="TypedDateTimeFormatter"><code>TypedDateTimeFormatter</code></a> and <a href="struct.DateTimeFormatter.html" title="DateTimeFormatter"><code>DateTimeFormatter</code></a> are the main types of the component. They accepts a set of arguments which
allow it to collect necessary data from the <a href="../../icu_provider/index.html">data provider</a>, and once instantiated, can be
used to quickly format any date and time provided. There are variants of these types that can format greater or fewer components,
including <a href="struct.TypedDateFormatter.html" title="TypedDateFormatter"><code>TypedDateFormatter</code></a> &amp; <a href="struct.DateFormatter.html" title="DateFormatter"><code>DateFormatter</code></a>, <a href="struct.TypedZonedDateTimeFormatter.html" title="TypedZonedDateTimeFormatter"><code>TypedZonedDateTimeFormatter</code></a> &amp; <a href="struct.ZonedDateTimeFormatter.html" title="ZonedDateTimeFormatter"><code>ZonedDateTimeFormatter</code></a>, <a href="struct.TimeFormatter.html" title="TimeFormatter"><code>TimeFormatter</code></a>,
and <a href="time_zone/struct.TimeZoneFormatter.html"><code>TimeZoneFormatter</code></a></p>
<p>These formatters work with types from the <a href="calendar::%7BCalendar%7D"><code>calendar</code></a> module, like <a href="calendar::%7BDate%7D"><code>Date</code></a>, <a href="calendar::%7BDateTime%7D"><code>DateTime</code></a>, and <a href="calendar::types::%7BTime%7D"><code>Time</code></a>,
and <a href="icu::timezone::%7BCustomTimeZone%7D"><code>timezone::CustomTimeZone</code></a>, however other types may be used provided they implement the traits from the <a href="input/index.html" title="input"><code>input</code></a> module.</p>
<p>Each instance of a date-related formatter (i.e. not <a href="struct.TimeFormatter.html" title="TimeFormatter"><code>TimeFormatter</code></a> or <a href="time_zone/struct.TimeZoneFormatter.html"><code>TimeZoneFormatter</code></a>
is associated with a particular <a href="calendar::%7BCalendar%7D"><code>Calendar</code></a>.
The “Typed” vs untyped formatter distinction is to help with this. For example, if you know at compile time that you
will only be formatting Gregorian dates, you can use <a href="struct.TypedDateTimeFormatter.html"><code>TypedDateTimeFormatter&lt;Gregorian&gt;</code></a> and the
APIs will make sure that only Gregorian <a href="calendar::%7BDateTime%7D"><code>DateTime</code></a>s are used with the calendar. On the other hand, if you want to be able to select
the calendar at runtime, you can use <a href="struct.DateTimeFormatter.html" title="DateTimeFormatter"><code>DateTimeFormatter</code></a> with the calendar specified in the locale, and use it with
<a href="calendar::%7BDateTime%7D"><code>DateTime</code></a>,<a href="calendar::any_calendar::%7BAnyCalendar%7D"><code>AnyCalendar</code></a>. These formatters still require dates associated
with the appropriate calendar (though they will convert ISO dates to the calendar if provided), they just do not force the
programmer to pick the calendar at compile time.</p>
<h2 id="examples"><a href="#examples">Examples</a></h2>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use</span> <span class="ident">icu::calendar</span>::{<span class="ident">DateTime</span>, <span class="ident">Gregorian</span>};
<span class="kw">use</span> <span class="ident">icu::datetime</span>::{
    <span class="ident">options::length</span>, <span class="ident">DateTimeFormatter</span>, <span class="ident">DateTimeFormatterOptions</span>,
    <span class="ident">TypedDateTimeFormatter</span>,
};
<span class="kw">use</span> <span class="ident">icu::locid</span>::{<span class="ident">locale</span>, <span class="ident">Locale</span>};
<span class="kw">use</span> <span class="ident">std::str::FromStr</span>;
<span class="kw">use</span> <span class="ident">writeable::assert_writeable_eq</span>;

<span class="comment">// See the next code example for a more ergonomic example with .into().</span>
<span class="kw">let</span> <span class="ident">options</span> <span class="op">=</span>
    <span class="ident">DateTimeFormatterOptions::Length</span>(<span class="ident">length::Bag::from_date_time_style</span>(
        <span class="ident">length::Date::Medium</span>,
        <span class="ident">length::Time::Short</span>,
    ));

<span class="comment">// You can work with a formatter that can select the calendar at runtime:</span>
<span class="kw">let</span> <span class="ident">locale</span> <span class="op">=</span> <span class="ident">Locale::from_str</span>(<span class="string">&quot;en-u-ca-gregory&quot;</span>).<span class="ident">unwrap</span>();
<span class="kw">let</span> <span class="ident">dtf</span> <span class="op">=</span> <span class="ident">DateTimeFormatter::try_new_unstable</span>(
    <span class="kw-2">&amp;</span><span class="ident">icu_testdata::unstable</span>(),
    <span class="kw-2">&amp;</span><span class="ident">locale</span>.<span class="ident">into</span>(),
    <span class="ident">options</span>.<span class="ident">clone</span>(),
)
.<span class="ident">expect</span>(<span class="string">&quot;Failed to create DateTimeFormatter instance.&quot;</span>);

<span class="comment">// Or one that selects a calendar at compile time:</span>
<span class="kw">let</span> <span class="ident">typed_dtf</span> <span class="op">=</span> <span class="ident">TypedDateTimeFormatter</span>::<span class="op">&lt;</span><span class="ident">Gregorian</span><span class="op">&gt;</span><span class="ident">::try_new_unstable</span>(
    <span class="kw-2">&amp;</span><span class="ident">icu_testdata::unstable</span>(),
    <span class="kw-2">&amp;</span><span class="macro">locale!</span>(<span class="string">&quot;en&quot;</span>).<span class="ident">into</span>(),
    <span class="ident">options</span>,
)
.<span class="ident">expect</span>(<span class="string">&quot;Failed to create TypedDateTimeFormatter instance.&quot;</span>);

<span class="kw">let</span> <span class="ident">typed_date</span> <span class="op">=</span>
    <span class="ident">DateTime::try_new_gregorian_datetime</span>(<span class="number">2020</span>, <span class="number">9</span>, <span class="number">12</span>, <span class="number">12</span>, <span class="number">34</span>, <span class="number">28</span>).<span class="ident">unwrap</span>();
<span class="comment">// prefer using ISO dates with DateTimeFormatter</span>
<span class="kw">let</span> <span class="ident">date</span> <span class="op">=</span> <span class="ident">typed_date</span>.<span class="ident">to_iso</span>().<span class="ident">to_any</span>();

<span class="kw">let</span> <span class="ident">formatted_date</span> <span class="op">=</span> <span class="ident">dtf</span>.<span class="ident">format</span>(<span class="kw-2">&amp;</span><span class="ident">date</span>).<span class="ident">expect</span>(<span class="string">&quot;Calendars should match&quot;</span>);
<span class="kw">let</span> <span class="ident">typed_formatted_date</span> <span class="op">=</span> <span class="ident">typed_dtf</span>.<span class="ident">format</span>(<span class="kw-2">&amp;</span><span class="ident">typed_date</span>);

<span class="macro">assert_writeable_eq!</span>(<span class="ident">formatted_date</span>, <span class="string">&quot;Sep 12, 2020, 12:34 PM&quot;</span>);
<span class="macro">assert_writeable_eq!</span>(<span class="ident">typed_formatted_date</span>, <span class="string">&quot;Sep 12, 2020, 12:34 PM&quot;</span>);

<span class="kw">let</span> <span class="ident">formatted_date_string</span> <span class="op">=</span>
    <span class="ident">dtf</span>.<span class="ident">format_to_string</span>(<span class="kw-2">&amp;</span><span class="ident">date</span>).<span class="ident">expect</span>(<span class="string">&quot;Calendars should match&quot;</span>);
<span class="kw">let</span> <span class="ident">typed_formatted_date_string</span> <span class="op">=</span> <span class="ident">typed_dtf</span>.<span class="ident">format_to_string</span>(<span class="kw-2">&amp;</span><span class="ident">typed_date</span>);

<span class="macro">assert_eq!</span>(<span class="ident">formatted_date_string</span>, <span class="string">&quot;Sep 12, 2020, 12:34 PM&quot;</span>);
<span class="macro">assert_eq!</span>(<span class="ident">typed_formatted_date_string</span>, <span class="string">&quot;Sep 12, 2020, 12:34 PM&quot;</span>);</code></pre></div>
<p>The options can be created more ergonomically using the <code>Into</code> trait to automatically
convert a <a href="options/length/struct.Bag.html" title="options::length::Bag"><code>options::length::Bag</code></a> into a <a href="enum.DateTimeFormatterOptions.html#variant.Length" title="DateTimeFormatterOptions::Length"><code>DateTimeFormatterOptions::Length</code></a>.</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use</span> <span class="ident">icu::calendar::Gregorian</span>;
<span class="kw">use</span> <span class="ident">icu::datetime</span>::{
    <span class="ident">options::length</span>, <span class="ident">DateTimeFormatterOptions</span>, <span class="ident">TypedDateTimeFormatter</span>,
};
<span class="kw">use</span> <span class="ident">icu::locid::locale</span>;
<span class="kw">let</span> <span class="ident">options</span> <span class="op">=</span> <span class="ident">length::Bag::from_date_time_style</span>(
    <span class="ident">length::Date::Medium</span>,
    <span class="ident">length::Time::Short</span>,
)
.<span class="ident">into</span>();

<span class="kw">let</span> <span class="ident">dtf</span> <span class="op">=</span> <span class="ident">TypedDateTimeFormatter</span>::<span class="op">&lt;</span><span class="ident">Gregorian</span><span class="op">&gt;</span><span class="ident">::try_new_unstable</span>(
    <span class="kw-2">&amp;</span><span class="ident">icu_testdata::unstable</span>(),
    <span class="kw-2">&amp;</span><span class="macro">locale!</span>(<span class="string">&quot;en&quot;</span>).<span class="ident">into</span>(),
    <span class="ident">options</span>,
);</code></pre></div>
<p>At the moment, the crate provides only options using the <a href="options/length/index.html"><code>Length</code></a> bag, but in the future,
we expect to add more ways to customize the output, like skeletons, and components.</p>
</div></details><h2 id="modules" class="small-section-header"><a href="#modules">Modules</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="mod" href="fields/index.html" title="icu::datetime::fields mod">fields</a></div><div class="item-right docblock-short"><p>Enums representing the fields in a date pattern, including the field’s type, length and symbol.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="input/index.html" title="icu::datetime::input mod">input</a></div><div class="item-right docblock-short"><p>A collection of utilities for representing and working with dates as an input to
formatting operations.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="options/index.html" title="icu::datetime::options mod">options</a></div><div class="item-right docblock-short"><p><a href="enum.DateTimeFormatterOptions.html" title="DateTimeFormatterOptions"><code>DateTimeFormatterOptions</code></a> is a bag of options which, together with <a href="../locid/struct.Locale.html"><code>Locale</code></a>,
defines how dates will be formatted with a <a href="struct.TypedDateTimeFormatter.html"><code>TypedDateTimeFormatter</code></a> instance.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="provider/index.html" title="icu::datetime::provider mod">provider</a></div><div class="item-right docblock-short"><p>Data provider structs for this ICU4X component.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="time_zone/index.html" title="icu::datetime::time_zone mod">time_zone</a></div><div class="item-right docblock-short"><p>A formatter specifically for the time zone.</p>
</div></div></div><h2 id="structs" class="small-section-header"><a href="#structs">Structs</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.DateFormatter.html" title="icu::datetime::DateFormatter struct">DateFormatter</a></div><div class="item-right docblock-short"><p><a href="struct.DateFormatter.html" title="DateFormatter"><code>DateFormatter</code></a> is a formatter capable of formatting
dates from any calendar, selected at runtime. For the difference between this and <a href="struct.TypedDateFormatter.html"><code>TypedDateFormatter</code></a>,
please read the <a href="index.html" title="crate">crate root docs</a>.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.DateTimeFormatter.html" title="icu::datetime::DateTimeFormatter struct">DateTimeFormatter</a></div><div class="item-right docblock-short"><p><a href="struct.DateTimeFormatter.html" title="DateTimeFormatter"><code>DateTimeFormatter</code></a> is a formatter capable of formatting
date/times from any calendar, selected at runtime. For the difference between this and <a href="struct.TypedDateTimeFormatter.html"><code>TypedDateTimeFormatter</code></a>,
please read the <a href="index.html" title="crate">crate root docs</a>.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.FormattedDateTime.html" title="icu::datetime::FormattedDateTime struct">FormattedDateTime</a></div><div class="item-right docblock-short"><p><a href="struct.FormattedDateTime.html" title="FormattedDateTime"><code>FormattedDateTime</code></a> is a intermediate structure which can be retrieved as
an output from <a href="struct.TypedDateTimeFormatter.html"><code>TypedDateTimeFormatter</code></a>.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.FormattedTimeZone.html" title="icu::datetime::FormattedTimeZone struct">FormattedTimeZone</a></div><div class="item-right docblock-short"><p><a href="struct.FormattedTimeZone.html" title="FormattedTimeZone"><code>FormattedTimeZone</code></a> is a intermediate structure which can be retrieved as an output from <a href="time_zone/struct.TimeZoneFormatter.html" title="TimeZoneFormatter"><code>TimeZoneFormatter</code></a>.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.FormattedZonedDateTime.html" title="icu::datetime::FormattedZonedDateTime struct">FormattedZonedDateTime</a></div><div class="item-right docblock-short"><p><a href="struct.FormattedTimeZone.html" title="FormattedTimeZone"><code>FormattedTimeZone</code></a> is a intermediate structure which can be retrieved
as an output from [<code>ZonedDateTimeFormatter</code>].</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.TimeFormatter.html" title="icu::datetime::TimeFormatter struct">TimeFormatter</a></div><div class="item-right docblock-short"><p><a href="struct.TimeFormatter.html" title="TimeFormatter"><code>TimeFormatter</code></a> is a structure of the <a href="index.html"><code>icu_datetime</code></a> component that provides time formatting only.
When constructed, it uses data from the <a href="../../icu_provider/index.html">data provider</a>, selected locale and provided preferences to
collect all data necessary to format any time into that locale.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.TypedDateFormatter.html" title="icu::datetime::TypedDateFormatter struct">TypedDateFormatter</a></div><div class="item-right docblock-short"><p><a href="struct.TypedDateFormatter.html" title="TypedDateFormatter"><code>TypedDateFormatter</code></a> is a formatter capable of formatting
dates from a calendar selected at compile time. For the difference between this
and <a href="struct.DateFormatter.html"><code>DateFormatter</code></a>, please read the <a href="index.html" title="crate">crate root docs</a>.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.TypedDateTimeFormatter.html" title="icu::datetime::TypedDateTimeFormatter struct">TypedDateTimeFormatter</a></div><div class="item-right docblock-short"><p><a href="struct.TypedDateTimeFormatter.html"><code>TypedDateTimeFormatter</code></a> is a formatter capable of formatting
date/times from a calendar selected at compile time. For the difference between this
and <a href="struct.DateTimeFormatter.html"><code>DateTimeFormatter</code></a>, please read the <a href="index.html" title="crate">crate root docs</a>.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.TypedZonedDateTimeFormatter.html" title="icu::datetime::TypedZonedDateTimeFormatter struct">TypedZonedDateTimeFormatter</a></div><div class="item-right docblock-short"><p>The composition of <a href="struct.TypedDateTimeFormatter.html"><code>TypedDateTimeFormatter</code></a> and <a href="time_zone/struct.TimeZoneFormatter.html"><code>TimeZoneFormatter</code></a>.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.ZonedDateTimeFormatter.html" title="icu::datetime::ZonedDateTimeFormatter struct">ZonedDateTimeFormatter</a></div><div class="item-right docblock-short"><p><a href="struct.ZonedDateTimeFormatter.html" title="ZonedDateTimeFormatter"><code>ZonedDateTimeFormatter</code></a> is a formatter capable of formatting
date/times with time zones from any calendar, selected at runtime. For the difference between this and <a href="struct.TypedZonedDateTimeFormatter.html"><code>TypedZonedDateTimeFormatter</code></a>,
please read the <a href="index.html" title="crate">crate root docs</a>.</p>
</div></div></div><h2 id="enums" class="small-section-header"><a href="#enums">Enums</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.DateTimeError.html" title="icu::datetime::DateTimeError enum">DateTimeError</a></div><div class="item-right docblock-short"><p>A list of error outcomes for various operations in the <code>icu_datetime</code> crate.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.DateTimeFormatterOptions.html" title="icu::datetime::DateTimeFormatterOptions enum">DateTimeFormatterOptions</a></div><div class="item-right docblock-short"><p>A bag of options which, together with <a href="../locid/struct.Locale.html"><code>Locale</code></a>, defines how
dates will be formatted with a <a href="struct.TypedDateTimeFormatter.html"><code>TypedDateTimeFormatter</code></a> instance.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.Error.html" title="icu::datetime::Error enum">Error</a></div><div class="item-right docblock-short"><p>A list of error outcomes for various operations in the <code>icu_datetime</code> crate.</p>
</div></div></div><h2 id="traits" class="small-section-header"><a href="#traits">Traits</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.CldrCalendar.html" title="icu::datetime::CldrCalendar trait">CldrCalendar</a></div><div class="item-right docblock-short"><p>A calendar that can be found in CLDR</p>
</div></div></div></section><section id="search" class="content hidden"></section></div></main><div id="rustdoc-vars" data-root-path="../../" data-current-crate="icu" data-themes="ayu,dark,light" data-resource-suffix="" data-rustdoc-version="1.61.0 (fe5b13d68 2022-05-18)" ></div>
</body></html>